(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5822:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9720)}])},9720:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var s=n(1527),i=n(3462),o=n.n(i),l=n(959),c=n(6950),r=n(4340),d=n(3718),a=n(8900),x=n(6554),h=n(4761);let m=e=>{let{cardPost:t,innerRef:n,onClick:i}=e,[o,m]=(0,l.useState)({main:"block",detail:"none"}),u=e=>{"block"===o.main?(m({main:"none",detail:"block"}),i(),console.log(e)):m({main:"block",detail:"none"})};return(0,s.jsxs)(c.Z,{sx:{minWidth:275,margin:5},ref:n,children:[(0,s.jsxs)("div",{style:{display:o.main},children:[(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(x.Z,{sx:{fontSize:12},color:"text.secondary",gutterBottom:!0,children:t.id}),(0,s.jsx)(x.Z,{variant:"h5",component:"div",children:t.post_title}),(0,s.jsxs)(x.Z,{variant:"body2",children:[t.post_body.substring(0,100),(0,s.jsx)("br",{})]})]}),(0,s.jsx)(r.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,s.jsx)(a.Z,{size:"small",onClick:()=>u(t.id),children:"Learn More"})})]}),(0,s.jsxs)("div",{style:{display:o.detail},children:[(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(x.Z,{sx:{fontSize:10},color:"text.secondary",gutterBottom:!0,children:t.id}),(0,s.jsxs)(x.Z,{sx:{fontSize:12},component:"div",children:["user name: ",t.username," | user_email: ",t.email]}),(0,s.jsx)(x.Z,{variant:"h5",component:"div",children:t.post_title}),(0,s.jsxs)(x.Z,{variant:"body2",children:[t.post_body,(0,s.jsx)("br",{})]}),(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(x.Z,{component:"span",sx:{fontWeight:700,fontSize:12},children:"comments:"}),t.comments&&t.comments.map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsx)(x.Z,{sx:{fontSize:12,fontWeight:600},children:e.name}),(0,s.jsx)(x.Z,{sx:{fontSize:12},children:e.body})]},t))]})]}),(0,s.jsx)(r.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,s.jsx)(a.Z,{size:"small",onClick:()=>u(t.id),children:"Close"})})]})]})},u=e=>{let{cardList:t,lastBookElementRef:n,onClick:i}=e;return(0,s.jsx)(s.Fragment,{children:t.map((e,o)=>t.length===o+1?(0,s.jsx)(m,{cardPost:e,innerRef:n,onClick:i},e.id):(0,s.jsx)(m,{cardPost:e,onClick:i},e.id))})};var p=n(9175),j=n(4011),f=n(3054),y=n(8402);function g(){let[e,t]=(0,l.useState)([]),[n,i]=(0,l.useState)([]),[c,r]=(0,l.useState)([]),[d,a]=(0,l.useState)(!1),[x,h]=(0,l.useState)(20),m=async()=>{let e=await (0,j.K)("".concat("https://jsonplaceholder.typicode.com","/comments")),t=await (0,j.K)("".concat("https://jsonplaceholder.typicode.com","/users"));a(!0),i(e),r(t)},g=async()=>{let n=await (0,j.K)("".concat("https://jsonplaceholder.typicode.com","/posts"));a(!0),t(n.slice(0,x)),100===e.length&&a(!1)};(0,l.useEffect)(()=>{g()},[d,x,e.length]);let v=(0,l.useRef)(null),Z=(0,l.useCallback)(e=>{!d&&(v.current&&v.current.disconnect(),v.current=new IntersectionObserver(e=>{e[0].isIntersecting&&(a(!1),setTimeout(()=>{h(e=>e+20)},500),a(!0))}),e&&v.current.observe(e))},[]),b=e.map(e=>{let t=[];c.forEach(n=>{n.id===e.userId&&t.push(n)});let s=t[0],i=[];return n.forEach(t=>{t.postId===e.id&&i.push(t)}),{id:e.id,username:null==s?void 0:s.username,email:null==s?void 0:s.email,post_title:e.title,post_body:e.body,comments:i}});return(0,s.jsxs)(p.Z,{sx:{paddingTop:5,addingLeft:100,paddingRight:100},children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{children:"Assessment_page1"}),(0,s.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(f.Z,{}),(0,s.jsxs)("p",{children:[" ",!d&&"Loading..."]}),(0,s.jsx)(u,{cardList:b,lastBookElementRef:Z,onClick:m}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:25},children:[" ",d&&(0,s.jsx)(y.Z,{})]}),(0,s.jsxs)("p",{style:{textAlign:"center",marginBottom:25},children:[" ",!d&&"End of Posts."]})]})]})}}},function(e){e.O(0,[27,575,774,888,179],function(){return e(e.s=5822)}),_N_E=e.O()}]);